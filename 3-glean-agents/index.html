
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Glean Agents</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14" ga4id=""></google-codelab-analytics>
  <google-codelab codelab-gaid="G-LR18FBLQHK"
                  codelab-ga4id=""
                  id="3-glean-agents"
                  title="Glean Agents"
                  environment="web"
                  feedback-link="https://github.com/dejim-juang-glean/glean-workshop/issues">
    
      <google-codelab-step label="Overview" duration="0">
        <p>Glean Agents are a comprehensive platform feature designed for building, orchestrating, and managing AI agents within enterprises, aimed at scaling AI adoption across various business operations. They enable users to create personalized agents using natural language and offer a library of pre-built agents that can be tailored for specific tasks. Glean Agents operate using an agentic reasoning engine that supports complex workflows driven by company data and external information. This platform not only facilitates the construction of agents but also incorporates governance measures to ensure data security and compliance, making it a strategic tool for enhancing productivity and automating processes across departments.</p>
<p>In this lab we will:</p>
<ol type="1" start="1">
<li>Explore an existing agent including learning how to extend it.</li>
<li>Create a Q&amp;A Chatbot Agent</li>
<li>Build an Agent from Scratch</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Explore the Plan My Day Agent" duration="0">
        <p>Go to <a href="https://app.glean.com/chat/agents" target="_blank">https://app.glean.com/chat/agents</a>.<br><br>Because Glean is a logged in experience and this is the first time you&#39;ve accessed the platform, you will be redirected to the glean login page.<br><br><img style="width: 475.50px" src="img/b3eb08457a3d45f1.png"><br></p>
<p>Enter the credentials provided for you by the Workshop Moderator.  First enter the email address and click the &#34;Log in&#34; button.<br><br>You will be presented with a screen similar to the following.  Enter the password provided by your Workshop Moderator and click the &#34;Sign in&#34; button.</p>
<p class="image-container"><img style="width: 222.52px" src="img/fe183aad842667c1.png"><br></p>
<p>You will then be redirected back to the Glean Agent Library.  </p>
<aside class="warning"><p><strong>Note:</strong> You may need to select Chat on the left menu and click Agents if you are not automatically redirected</p>
</aside>
<p>This Public instance of Glean has various pre-populated agents.  For the purposes of this workshop we will explore the <strong>Plan My Day Agent. <br><br></strong>Click the <strong>Plan My Day Agent</strong> card.</p>
<aside class="warning"><p><strong>Note:</strong> You may have to search for it in the Search agents search bar as shown</p>
</aside>
<p class="image-container"><img style="width: 529.60px" src="img/d475e3c470e120b7.png"><br></p>
<p>In the Popup Window select the <strong>View agent setup</strong> link to see the design of this agent:<br><br><img style="width: 377.46px" src="img/a06a0ec0c8a92b6e.png"></p>
<p>Use your mouse to navigate the <strong>Plan My Day Agent</strong> canvas.  Notice how you are able to add sticky notes to the canvas from a documentation perspective as well as able to see this Agentic Workflow&#39;s Series of steps.<br></p>
<table>
<tr><td colspan="1" rowspan="4"><p class="image-container"><img style="width: 298.00px" src="img/769c887bcd7a4fe.png"></p>
</td><td colspan="1" rowspan="1"><p><strong>Step 0</strong>: Defines how this Agent is Triggered</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 1</strong>: Search Slack for messages where I was tagged yesterday</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 2</strong>: Search for content that could assist in answering questions that were asked of me in the Slack Messages found<br></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 3</strong>: Perform an email search for all emails from yesterday and today<br></p>
</td></tr>
<tr><td colspan="1" rowspan="3"><p class="image-container"><img style="width: 233.25px" src="img/3c690ae2f1622052.png"></p>
</td><td colspan="1" rowspan="1"><p><strong>Step 4</strong>: Execute a Calendar search to find all of my meetings scheduled for today</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 5</strong>: Search for meeting notes from previous meetings that have a similar title</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 6</strong>: Respond to the user with all of the information desired in order to plan the user&#39;s day.</p>
</td></tr>
</table>
<p>As you can see, the author has control over the formatting of the response including adding additional instructions for the Reasoning engine to assist in the output.  Note the Markdown syntax for the response formatting.  While this is not required, it can be helpful since LLMs deeply understand the Markdown syntax.</p>
<p>Let&#39;s now execute this agent directly from the Design Canvas.  Click the <img style="width: 81.60px" src="img/372cef49bee67aaf.png">button in the upper right corner to expand the test window on the left side of the screen as shown:<br><br><img style="width: 571.60px" src="img/5a1d3c87e036c6e1.png"><br></p>
<p>Click the <strong>Run agent</strong> button to execute.<br><img style="width: 387.50px" src="img/e573a1b64aeceee2.png"></p>
<p><br>Follow the output similar to what you see on the right:<br><br>The above example could be beneficial as an Agent that runs automatically on a scheduled basis in the morning before you start your day.  The message could be fed automatically to Email, or your company&#39;s messaging program (Teams, Slack, etc...)<br><br>Think about how you extend this Agent to drive additional value (Look for only unread Slack/Email messages..).</p>


      </google-codelab-step>
    
      <google-codelab-step label="Create a Q&amp;A Chatbot Agent" duration="0">
        <p>Close the Navigate back to the Agent library by clicking the left arrow next to the title of the Plan My Day Agent as shown:<br><br><img style="width: 172.60px" src="img/e62a814b87091d31.png"><br><br>You can also navigate directly by going to <a href="https://app.glean.com/chat/agents" target="_blank">https://app.glean.com/chat/agents</a>, or by navigating the Glean Menu via this path:  Chat &gt; Agents.<br></p>
<p>Click the <img style="width: 86.09px" src="img/1f32bef5af7dc483.png">in the upper right corner of the screen.  This will open up the Create agent popup window as shown:<br><br><img style="width: 347.40px" src="img/ba97a90b3a446822.png"><br><br>Feel free to look around at all of the Templates provided by Glean to jumpstart the build.  There is also the ability to create an agent by describing the agent intent in Natural Language (Use AI to generate a draft).<br><br>For the purposes of this Agent, we will use the template called <strong>Q&amp;A Chatbot</strong>. Click that Template Card.<br><br></p>
<p>This will generate a new Agent with a Canvas that looks similar to the following:</p>
<table>
<tr><td colspan="1" rowspan="2"><p class="image-container"><img style="width: 348.50px" src="img/99f7714beb68a3b1.png"></p>
</td><td colspan="1" rowspan="1"><p><strong>Step 0</strong>: The trigger to execute this chatbot, which in this case is the user entering a natural language question or phrase.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><strong>Step 1</strong>: A Plan and execute steps Action.  This Action allows the Author to specify Knowledge Sources used in answering the natural language questions from the user.</p>
</td></tr>
</table>
<p>Modify the name of this Agent. Click the pencil icon in the upper left corner next to the default name to modify it as shown:<br><br><img style="width: 176.40px" src="img/35d1c4628a66d431.png"><br>In the popup window fill out the Agent name.    <br><br>Call this Agent:<br><br><strong>[Your Name] HR Q&amp;A Chatbot<br><br></strong>Replace [Your Name] with your actual name.  This will allow us to differentiate all of the users in this workshop (Since we are sharing a login to the public sandbox environment).  An example is as follows.  Feel free to modify the Description if desired as well.<br><br><img style="width: 416.79px" src="img/6282f54d4ce3be66.png"><br></p>
<p>Click the <strong>0. Trigger</strong> Card to configure this Step.  We are going to add a couple of conversation starters to provide the user some sample questions to use to kickoff the conversation.<br><br>Click the <img style="width: 70.49px" src="img/7b573984d1fade2a.png">button under the Conversation starters.<br><br>For the Conversation starter label type in:<br><br><strong>Request PTO Balance<br><br></strong>In the Write prompt box enter the following:<br><br><strong>How much paid time off do I have left?<br><br></strong>Your Conversation starter prompt should look similar to the following:<br><br><img style="width: 292.00px" src="img/ba872d86d877445e.png"><br><br>Add one more conversation starter with the label: <strong>Leave Policy</strong> and the prompt of: <strong>What are our leave policy options?</strong>.<br></p>
<p>Select the <strong>1. Plan and execute steps</strong> Action card to open the configuration.  We are going to switch this Step to a Branch Action.  Click the <img style="width: 25.95px" src="img/b4b4176d8e734c25.png">button to switch the action.<br><br>In the Select Step search bar enter Branch and select the Branch Action as shown:<br><br><img style="width: 258.60px" src="img/d8cfffc284605fe6.png"><br></p>
<p>In the <strong>Branch</strong> conditions section of the configuration enter the following text in the <strong>Choose this branch if...</strong> prompt window:<br><br><strong>the user requests their PTO, paid time off, or vacation balance.  They also may request how much PTO, paid time off, or vacation they have left.  Do not select this if the user inquires about other types of leave.<br><br></strong>The configuration window should look similar to the following:<br><br><img style="width: 331.92px" src="img/a19ce0ff6b790fb3.png"><br></p>
<p>Click the Plus icon under the Fallback branch as shown:<br><br><img style="width: 117.44px" src="img/f8e85fa97a0f8fcd.png"><img style="width: 345.80px" src="img/ae8fbfd13e06f62f.png"><br><br>Enter <strong>Plan</strong> in the Select step search box as shown and select the <strong>Plan and execute steps </strong>Action.<br><br>In this next step, we are going to create the Instructions and select the Knowledge Sources desired to serve HR related requests.  <br><br>In the Plan and execute steps Action, enter the following instructions in the <strong>Instructions</strong> text box.<br><br><strong>You are a helpful assistant. Please be factual and use a kind tone in your answers.  If the content does not contain the information requested from the user, tell the user to reach out to </strong><a href="mailto:hr@dummyco.com" target="_blank"><strong>hr@dummyco.com</strong></a><strong>.<br><br></strong>Click the text box in the <strong>Company search</strong> section to instantiate a search for indexed content that will be used to answer the user&#39;s questions.<br><br>Type in <strong>gco</strong> and click the <strong>See all results for &#34;gco&#34;</strong> link at the bottom of the search.<br></p>
<p><img style="width: 296.40px" src="img/8530efcbcb71020a.png"><br><br>In the <strong>Add a knowledge source</strong> popup window, hover over the <strong>(Demo) GCo. HR Policies</strong> folder and click the <strong>Add Item</strong> button as shown:<img style="width: 412.70px" src="img/a7414f0626a32ecf.png"><br><br><br><br><br>Click the <strong>X</strong> button in the upper right hand corner of the popup to close the search window.<br><br>Your <strong>Plan and execute steps</strong> Action should look similar to the following:<br><br><img style="width: 347.45px" src="img/b4de99fe5a9a0a.png"><br></p>
<p>Now let&#39;s configure the Steps under the Branch if the user inquires about PTO.  In the Design Canvas click the <strong>Plus icon</strong> under the first Branch here:<br><img style="width: 223.27px" src="img/a3aa3bbb3996bc99.png"><br><br><br><img style="width: 410.60px" src="img/b1e7e079f8f3a73d.png"><br>In the Select Step search box, enter <strong>workday</strong> and select the <strong>Workday: Get PTO Availability</strong> Action as shown.<br><img style="width: 378.26px" src="img/1da865dab3b179de.png"></p>
<p>This is a Custom Action registered in this Glean instance.  As you can see this Action makes a real-time callout via an API to retrieve the users PTO Balance.<br><br>Enter <strong>How much paid time off do I have left?</strong> In the Instructions window of the Workday: Get PTO Availability Action configuration screen.<br><br><br><br><br><br><br><br><br></p>
<p>Now that we have received the Paid Time Off Balance for the user, we will need to respond to the user with the information.<br><br>Underneath the Workday: Get PTO Availability action, click the Plus icon to add a step.<br><br>Search for and select the <strong>Respond</strong> Action.<br><br>In the AI response instructions text box, enter:<br><br><strong>Tell the user their Paid Time Off Balance.<br><br></strong>Add another line of text to these instructions:<br><br><strong>Respond with all balance options in a bulleted list.<br><br></strong>Your Respond Action should look similar to the following:<br><br><img style="width: 385.50px" src="img/bf708c7ef24cf6ff.png"><br><br>Our new HR Q&amp;A Chatbot is now complete!  Click the <img style="width: 56.99px" src="img/956bf36819186a01.png">button in the upper right hand corner.<br></p>
<p>Now it&#39;s time to test!  Click the <img style="width: 67.13px" src="img/9a6058071d2b0dd9.png">button in the upper right hand corner to open the test harness window.<br><br><img style="width: 362.10px" src="img/de288eceeaa67cd7.png"><br>You can see that Conversations starters can be used to pre-populate the Chat window with the text specified in the configuration.<br><br>Feel free to try both conversation starters and/or ask any question of the new Chatbot.<br><br><br><br><br><br><br><br>If you ask about Paid Time Off or use that conversation starter, the Chatbot should call the Workday: Get PTO Availability Action.  Otherwise the questions should be answered directly from the content within the (Demo) GCo. HR Policies folder.<br><strong>Note</strong>: At any time during testing, you can reset the test harness by clicking the <img style="width: 24.98px" src="img/2e6b58bedd932d17.png">icon in the upper right corner of the harness.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Hackathon: Build an Agent" duration="0">
        <p>It&#39;s now your opportunity to build your own agent based upon what you&#39;ve already learned.  Pick one of the two options below.  And if you have time, build both ðŸ™‚.  Let&#39;s see what you can come up with.  If you get stuck at any time, or just need a nudge to get started, flag down one of the Glean Staff to get some assistance.<br><br>Notes before you build:</p>
<ul>
<li>Remember, this is a Public Sandbox environment and therefore the amount of data indexed and available is fairly limited.  This should not diminish your ability to build out an interesting Agent though.</li>
<li>When you create the Agent, be sure to put your name as part of the Agent name so there are no conflicts with other workshop participants.</li>
</ul>
<h2 is-upgraded>Option 1: Pull Request Reviewer Agent</h2>
<p>The purpose of this Agent will be to analyze a Pull Request in GitHub.  It should assist the analyzer in understanding whether the pull request is ready to be merged or whether it should be sent back to the engineering team to resolve.<br><br>As part of the analysis, it should look at the published Style Guides available in this Sandbox instance to check adherence of any changed code against the guides.  You can find these guides by searching for <strong>style guides</strong> in Glean Search (Home menu option).<br><br>Since this is a Public Sandbox instance, we don&#39;t have a ton of Pull Request to test your Agent against.  However, here are a couple pull request links you can test against:</p>
<ul>
<li><a href="https://github.com/glean-go-demo/mcp-server/pull/5" target="_blank">https://github.com/glean-go-demo/mcp-server/pull/5</a><br>The above should show a Typescript Change that is non-concerning (just some config changes)...<br></li>
<li><a href="https://github.com/glean-go-demo/mcp-server/pull/6" target="_blank">https://github.com/glean-go-demo/mcp-server/pull/6</a><br>The above has some code changes that should be concerning...<br></li>
</ul>
<p>Hint:  In order to read the Diffs of the Pull Requests, you will need to take advantage of one of Glean&#39;s out-of-the-box Actions for GitHub called: GitHub PR Diff Fetcher.  It may also be interesting to branch for each language the style guides are evaluating...</p>
<h2 is-upgraded>Option 2: Support Issue Resolver Agent</h2>
<p>The purpose of this Agent is to resolve a customer issue by generating actionable next steps to debug.  The support agent will enter a natural language issue into the Agent to kick it off.  The agent should look for information in Confluence, Jira, Google Drive, and the Glean Docs website.  It should then take the knowledge it found and provide a response to the user on a suggested means of resolving the issue at hand.<br><br>As this is a Sandbox Environment we don&#39;t have access to a vast library of Knowledge Base Articles and closed Support Incidents, however there is some documentation that can provide value for a couple of issues.  Try out the following two inputs to the agent after you&#39;ve completed your agent build:</p>
<ul>
<li><strong>sharepoint credential error</strong></li>
<li><strong>servicenow indexing problem</strong></li>
</ul>
<p>Hint:  It may be helpful to use the Company search Action with Manual search queries selected. This allows for specified search queries and also allows for multiple individual searches to be executed as part of the single action.  An example of a couple of these manual searches might be:<br><br><img style="width: 443.00px" src="img/da747d4aebb73085.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Conclusion" duration="0">
        <p>Throughout this lab, we explored the capabilities of Glean Agents as a robust platform for building, orchestrating, and managing AI agents within enterprise environments. Participants engaged hands-on with pre-built agents, extended their functionality, and progressed to creating custom agents from scratch. Key steps included analyzing the Plan My Day Agent&#39;s multi-step workflows, developing a Q&amp;A Chatbot tailored to HR policies, and using branching logic and external data integrationsâ€”demonstrating how Glean Agents facilitate personalized automation while maintaining compliance and data security. The structured walkthroughs and practical exercises illuminated the flexibility and utility of Glean&#39;s agentic reasoning engine in automating complex, data-driven tasks across different business functions.</p>
<p>As a final step, the lab encouraged creative application through a hackathonâ€”where users synthesized their learnings to design and implement agents for real-world challenges, such as pull request review automation or support issue resolution. Although the sandbox environment featured limited data, the exercise highlighted Glean Agents&#39; adaptability and potential to drive operational efficiencies and streamline decision processes. Moving forward, leveraging these foundational skills and the Glean platform&#39;s extensibility, users are well-positioned to address a broad range of enterprise automation scenarios, further enhancing productivity and innovation within their organizations.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
